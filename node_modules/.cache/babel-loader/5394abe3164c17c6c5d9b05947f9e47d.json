{"ast":null,"code":"import _objectSpread from\"/Users/sarahgu/Documents/\\u524D\\u7AEF\\u81EA\\u5B66/Udemy/React/keeper/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/sarahgu/Documents/\\u524D\\u7AEF\\u81EA\\u5B66/Udemy/React/keeper/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/sarahgu/Documents/\\u524D\\u7AEF\\u81EA\\u5B66/Udemy/React/keeper/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Header from\"./components/header/Header\";import Footer from\"./components/footer/Footer\";import Note from\"./components/note/Note\";import CreateArea from\"./components/createArea/CreateArea\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getLocalStorage=function getLocalStorage(){var note=localStorage.getItem('note');if(note){return note=JSON.parse(localStorage.getItem('note'));}else{return[];}};var App=function App(){var _useState=useState(getLocalStorage()),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isEditing=_useState4[0],setIsEditing=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),editId=_useState6[0],setEditID=_useState6[1];var _useState7=useState({show:false,msg:'',type:''}),_useState8=_slicedToArray(_useState7,2),alert=_useState8[0],setAlert=_useState8[1];useEffect(function(){localStorage.setItem('note',JSON.stringify(note));},[note]);var addNote=function addNote(input){if(isEditing){setNote(note.map(function(item,index){if(index===editId){return input;}else{return item;}}));setEditID(null);setIsEditing(false);showAlert(true,'task updated successfully','success');}else{showAlert(true,'task added to the list','success');setNote(function(prevNotes){return[].concat(_toConsumableArray(prevNotes),[input]);});}};var deleteNote=function deleteNote(id){setNote(function(prevNotes){return prevNotes.filter(function(item,index){return index!==id;});});showAlert(true,'task removed','danger');};var editNote=function editNote(id){setIsEditing(true);setEditID(id);};var clearAll=function clearAll(){setNote([]);showAlert(true,'empty list','danger');};var showAlert=function showAlert(){var show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var msg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';setAlert({show:show,msg:msg,type:type});};useEffect(function(){var timeout=setTimeout(function(){showAlert();},3000);return function(){return clearTimeout(timeout);};},[note]);return/*#__PURE__*/_jsx(\"div\",{className:\"page-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrap\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(CreateArea,_objectSpread({addNote:addNote,clearAll:clearAll,isEditing:isEditing},alert)),/*#__PURE__*/_jsx(\"div\",{className:\"task-container\",children:note.map(function(noteItem,index){return/*#__PURE__*/_jsx(Note,{id:index,title:noteItem.title,content:noteItem.content,onChecked:deleteNote,editNote:editNote},index);})}),/*#__PURE__*/_jsx(Footer,{})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","Note","CreateArea","getLocalStorage","note","localStorage","getItem","JSON","parse","App","setNote","isEditing","setIsEditing","editId","setEditID","show","msg","type","alert","setAlert","setItem","stringify","addNote","input","map","item","index","showAlert","prevNotes","deleteNote","id","filter","editNote","clearAll","timeout","setTimeout","clearTimeout","noteItem","title","content"],"sources":["/Users/sarahgu/Documents/前端自学/Udemy/React/keeper/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"./components/header/Header\";\nimport Footer from \"./components/footer/Footer\";\nimport Note from \"./components/note/Note\";\nimport CreateArea from \"./components/createArea/CreateArea\";\n\nconst getLocalStorage = () => {\n  let note = localStorage.getItem('note');\n  if (note) {\n    return (note = JSON.parse(localStorage.getItem('note')));\n  } else {\n    return [];\n  }\n};\n\nconst App = ()=> {\n  const [note, setNote] = useState(getLocalStorage());\n  const [isEditing, setIsEditing] = useState(false);\n  const [editId, setEditID] = useState(null);\n  const [alert, setAlert] = useState({show: false, msg:'', type:''})\n\n  useEffect(() => {\n    localStorage.setItem('note', JSON.stringify(note));\n  }, [note]);\n\n  const addNote = (input)=> {\n    if (isEditing){\n      setNote(\n        note.map((item,index)=>{\n          if(index === editId){\n            return input;\n          }else{\n            return item;\n          }\n        })\n      );\n      setEditID(null);\n      setIsEditing(false);\n      showAlert(true, 'task updated successfully', 'success')\n    } else {\n      showAlert( true, 'task added to the list', 'success')\n      setNote((prevNotes) => {\n        return [...prevNotes, input];\n      });\n  }\n  }\n\n  const deleteNote = (id)=> {\n    setNote((prevNotes) => {\n      return prevNotes.filter((item, index) => {\n        return index !== id;\n      });\n    });\n    showAlert(true, 'task removed', 'danger')\n  }\n\n  const editNote = (id) => {\n    setIsEditing(true);\n    setEditID(id);\n  }\n\n  const clearAll = ()=>{\n    setNote([])\n    showAlert(true, 'empty list','danger')\n  }\n\n  const showAlert = (show = false, msg = '', type = '') => {\n    setAlert({ show, msg, type });\n  }\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      showAlert();\n    }, 3000);\n    return () => clearTimeout(timeout);\n  }, [note]);\n\n  return (\n    <div className=\"page-container\">\n      <div className=\"content-wrap\">\n        <Header />\n        <CreateArea addNote={addNote} clearAll={clearAll} isEditing={isEditing} {...alert}/>\n        <div className=\"task-container\">\n          {note.map((noteItem, index) => (\n            <Note\n              key={index}\n              id={index}\n              title={noteItem.title}\n              content={noteItem.content}\n              onChecked={deleteNote}\n              editNote={editNote}\n            />\n          ))}\n        </div>\n\n        <Footer />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}